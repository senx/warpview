<!--
  ~  Copyright 2021  SenX S.A.S.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  ~
  -->

<!DOCTYPE html>
<!--suppress JSCheckFunctionSignatures, JSUnresolvedLibraryURL, JSValidateTypes, JSUnresolvedFunction -->
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8">
  <title>Warp View</title>
</head>

<body>
  <div class="card-body">
    <p>
      Will work only on MY computer.
      it loads two really heavy GTS (1.2millions points each)
      you need 1.5GB free ram.
      It also put a annotation 1s after the end of both acquisition.
      hiding the annoation should not redraw the chart.
      hide or resize action should take more than 10s.

    </p>
    <p>
      RAM used after garbage collection : 1410MB
    </p>
    <div style="width: 100%; height: 800px">
    <warp-view-tile url="http://127.0.0.1:8080/api/v0/exec" responsive="true" type="plot" debug="false" chart-title="Plot">

      'qw7mYRxmiVAC_2leF.WEnrS8Lr2UM66nUnhKCkvJRiepDj8WSN32Zz63ABouq6pqIerEcVgCu2nidme9orunLt6g6xfKbRfEUkam2KQij0tLVTXFFxVR.CaP4c27p1gVw5tUQMNImC64Dxpg9Bi4wYnMqoeAgKDt'
      'READTOKEN' STORE
      [ $READTOKEN '~.*acceleration' { "SensorSerial" "~.*" } NOW -2000000 ] FETCH
      DUP 0 GET 'a' STORE
      1 GET 'b' STORE
      $a
      $b $a FIRSTTICK $b FIRSTTICK - TIMESHIFT

      NEWGTS '1slater' RENAME
      $a LASTTICK NaN NaN NaN T ADDVALUE
      $a LASTTICK 1 s + NaN NaN NaN T ADDVALUE
    </warp-view-tile></div>
  </div>
  <script src="./dist/elements/warpview-elements.js"></script>

</body>
